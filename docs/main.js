!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SVG_NS="http://www.w3.org/2000/svg",e.throwIf=function(t,e){if(t)throw new Error(e)},e.getRandomColor=function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[o(0,16)];return t};var o=e.random=function(t,e){return Math.floor(e-Math.random()*(e-t))};e.bindToContext=function(t,e){t instanceof Array||(t=[t]),t.map(function(t){return e[t]=e[t].bind(e)})},e.isFunction=function(t){return"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0);var r=["renderFrame"],a=function(){function t(e,n,o,a,s,u,c,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data={width:e,height:n,rotateDoration:o,translateDoration:a,color:s,x:u,y:c,rotate:h},(0,i.bindToContext)(r,this),this.createElement(),this.setTransform(u,c,h)}return o(t,[{key:"createElement",value:function(){throw new TypeError(this.constructor.name+" 'createElement' method is missing")}},{key:"setDataProp",value:function(t,e){this._data[t]=e}},{key:"getDataProp",value:function(t){return t?this._data[t]:this._data}},{key:"setElement",value:function(t){this._element=t}},{key:"setSize",value:function(t,e){this.setDataProp("width",t),this.setDataProp("height",e),this.setCenter(t/2,e/2),this._element.setAttribute("width",t),this._element.setAttribute("height",e)}},{key:"setFillColor",value:function(t){this.setDataProp("color",t),this._element.setAttribute("fill",t)}},{key:"setCenter",value:function(t,e){this.setDataProp("cx",t),this.setDataProp("cy",e)}},{key:"setTransform",value:function(t,e,n){this.setDataProp("x",t),this.setDataProp("y",e),this.setDataProp("rotate",n);var o=this.getDataProp(),i=o.cx,r=o.cy;this._element.setAttribute("transform","translate("+t+", "+e+") rotate("+n+" "+i+" "+r+")")}},{key:"renderFrame",value:function(t,e,n,o){var r=this.getDataProp(),a=void 0,s=void 0,u=r.y;r.x>=n?(a=0-r.width,u=(0,i.random)(0-r.height,o),s=r.rotate):(a=r.x+n/(r.translateDoration/1e3*60),s=r.rotate+360/(r.rotateDoration/1e3*60)),this.setTransform(a,u,s)}},{key:"$",get:function(){return this._element}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.defaultShapeFactory=void 0;var o,i=n(0),r=n(5),a=(o=r)&&o.__esModule?o:{default:o};var s=e.defaultShapeFactory=function(t){var e=t.width,n=t.height,o=t.x,i=t.y,r=t.rotate,s=t.rotateDoration,u=t.translateDoration,c=t.color;return new a.default(e,n,s,u,c,o,i,r)};e.defaultOptions={container:document.body,count:50,shapeFactory:s,colorFactory:i.getRandomColor,autoPlay:!0,animDurationRange:[5,25],shapeWidthRange:[50,100],shapeHeightRange:[5,10]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(2),r=n(0);var a=["_validateOption"],s={container:function(t){return(0,r.throwIf)(!(t instanceof Element),"`container` must be a valid DOM element")},bgColor:function(t){return(0,r.throwIf)("string"!=typeof t,"`bgColor` must be a string")},count:function(t){return(0,r.throwIf)(isNaN(t)||t<=0,"`count` must be a positive number")},shapeFactory:function(t){return(0,r.throwIf)(!(0,r.isFunction)(t),"`shapeFactory` must be a function")},colorFactory:function(t){return(0,r.throwIf)(!(0,r.isFunction)(t),"`colorFactory` must be a function")},animDurationRange:function(t){return(0,r.throwIf)(!(t instanceof Array)||2!==t.length,"`animDurationRange` must be an array with min and max values")},shapeWidthRange:function(t){return(0,r.throwIf)(!(t instanceof Array)||2!==t.length,"`shapeWidthRange` must be an array with min and max values")},shapeHeightRange:function(t){return(0,r.throwIf)(!(t instanceof Array)||2!==t.length,"`shapeHeightRange` must be an array with min and max values")}},u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=Object.assign({},i.defaultOptions,e),(0,r.bindToContext)(a,this),this._validate()}return o(t,[{key:"_validate",value:function(){Object.keys(this._options).map(this._validateOption)}},{key:"_validateOption",value:function(t){s[t]&&s[t](this._options[t])}},{key:"setOption",value:function(t,e){this._options[t]=e,this._validateOption(t)}},{key:"container",get:function(){return this._options.container}},{key:"bgColor",get:function(){return this._options.bgColor}},{key:"count",get:function(){return this._options.count}},{key:"shapeFactory",get:function(){return this._options.shapeFactory}},{key:"colorFactory",get:function(){return this._options.colorFactory}},{key:"autoPlay",get:function(){return this._options.autoPlay}},{key:"animDurationRange",get:function(){return this._options.animDurationRange}},{key:"shapeWidthRange",get:function(){return this._options.shapeWidthRange}},{key:"shapeHeightRange",get:function(){return this._options.shapeHeightRange}}]),t}();e.default=function(t){return new u(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0);var r=["removeShape"],a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e,this._svg=null,this._shapes=[],this._configure()}return o(t,[{key:"getShapeAt",value:function(t){return this._shapes[t]}},{key:"addShape",value:function(t){this._shapes.push(t),this._svg.appendChild(t.$)}},{key:"removeShape",value:function(t){this._svg.removeChild(t.$),this._shapes.splice(this._shapes.indexOf(t),1)}},{key:"removeAllShapes",value:function(){this._shapes.concat().map(this.removeShape)}},{key:"setBackgroundColor",value:function(t){this._svg.style.backgroundColor=t}},{key:"setViewBox",value:function(t,e){this._svg.setAttribute("viewBox","0 0 "+t+" "+e)}},{key:"destroy",value:function(){this.removeAllShapes()}},{key:"_configure",value:function(){(0,i.bindToContext)(r,this),this._createElement()}},{key:"_createElement",value:function(){this._svg=document.createElementNS(i.SVG_NS,"svg"),this._svg.style.width="100%",this._svg.style.height="100%",this._svg.style.display="block";var t=this._options,e=t.width,n=t.height,o=t.bgColor;this.setViewBox(e,n),o&&this.setBackgroundColor(o)}},{key:"$",get:function(){return this._svg}},{key:"shapesCount",get:function(){return this._shapes.length}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),a=n(1),s=(o=a)&&o.__esModule?o:{default:o};var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),i(e,[{key:"createElement",value:function(){var t=this.getDataProp(),e=t.width,n=t.height,o=t.color;this._element=document.createElementNS(r.SVG_NS,"rect"),this.setSize(e,n),this.setFillColor(o)}}]),e}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),r=(n(2),s(n(4))),a=s(n(3));function s(t){return t&&t.__esModule?t:{default:t}}var u=["_onWindowResize","_tick","pause","play","addShape","scrumble","removeShape","setOption","destroy"],c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=(0,a.default)(e),this._container=this._options.container,this._containerRect=this._container.getBoundingClientRect(),this._isPlaying=!1,this._rafId=0,this._prevFrame=0,this._configure()}return o(t,null,[{key:"create",value:function(e){var n=new t(e);return t.lineArts.push(n),n}},{key:"destroy",value:function(e){e.destroy(),t.lineArts.splice(t.lineArts.indexOf(e),1)}}]),o(t,[{key:"addShape",value:function(){this.addShapes(1)}},{key:"removeShape",value:function(){this.removeShapes(1)}},{key:"addShapes",value:function(t){for(var e=0;e<t;e++)this._createRandomShape()}},{key:"removeShapes",value:function(t){for(this._stage.shapesCount<t&&(t=this._stage.shapesCount);t-- >0;)this._stage.removeShape(this._stage.getShapeAt(this._stage.shapesCount-1))}},{key:"setOption",value:function(t,e){try{this._options.setOption(t,e)}catch(t){console.error(t)}"bgColor"===t&&this._stage.setBackgroundColor(e),this.scrumble()}},{key:"scrumble",value:function(){this._stage.removeAllShapes(),this.addShapes(this._options.count)}},{key:"pause",value:function(){this._isPlaying&&(this._isPlaying=!1,this._prevFrame=0,window.cancelAnimationFrame(this._rafId))}},{key:"play",value:function(){this._isPlaying||(this._isPlaying=!0,this._rafId=window.requestAnimationFrame(this._tick))}},{key:"destroy",value:function(){this.pause(),this._stage.destroy(),this._container.removeChild(this._stage.$),window.removeEventListener("resize",this._onWindowResize)}},{key:"_configure",value:function(){(0,i.bindToContext)(u,this),this._createStage(),this._bindEvents(),this.addShapes(this._options.count),this._options.autoPlay&&this.play()}},{key:"_bindEvents",value:function(){window.addEventListener("resize",this._onWindowResize,{passive:!0})}},{key:"_onWindowResize",value:function(){var t=this;window.requestAnimationFrame(function(){t._containerRect=t._container.getBoundingClientRect();var e=t._containerRect,n=e.width,o=e.height;t._stage.setViewBox(n,o)})}},{key:"_createStage",value:function(){var t=this._containerRect,e=t.width,n=t.height;this._stage=new r.default({width:e,height:n,bgColor:this._options.bgColor}),this._container.appendChild(this._stage.$)}},{key:"_createRandomShape",value:function(){var t=this._getRandomByRange(this._options.shapeWidthRange),e=this._getRandomByRange(this._options.shapeHeightRange),n=this._options.colorFactory(),o=this._getRandomDurationMiliseconds(),r=this._getRandomDurationMiliseconds(),a=(0,i.random)(0-t,this._containerRect.width),s=(0,i.random)(0-e,this._containerRect.height),u=(0,i.random)(0,360);this._stage.addShape(this._options.shapeFactory({width:t,height:e,x:a,y:s,rotate:u,rotateDoration:o,translateDoration:r,color:n}))}},{key:"_getRandomDurationMiliseconds",value:function(){return 1e3*this._getRandomByRange(this._options.animDurationRange)}},{key:"_getRandomByRange",value:function(t){return i.random.apply(null,t)}},{key:"_tick",value:function(t){for(var e=this._stage.shapesCount;e-- >0;)this._stage.getShapeAt(e).renderFrame(t,this._prevFrame,this._containerRect.width,this._containerRect.height);this._prevFrame=t,this._rafId=window.requestAnimationFrame(this._tick)}}]),t}();c.lineArts=[],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRandomColor=e.Shape=void 0;var o=a(n(6)),i=a(n(1)),r=n(0);function a(t){return t&&t.__esModule?t:{default:t}}e.default=o.default,e.Shape=i.default,e.getRandomColor=r.getRandomColor},function(t,e,n){"use strict";var o,i=n(7),r=(o=i)&&o.__esModule?o:{default:o};var a=document.querySelector("#pause"),s=document.querySelector("#play"),u=document.querySelector("#add"),c=document.querySelector("#remove"),h=document.querySelector("#restart"),l=document.querySelector("#count"),f={container:document.querySelector(".demo-1"),bgColor:"#5c469f",count:100},d=r.default.create(f);a.addEventListener("click",function(){return d.pause()},!1),s.addEventListener("click",function(){return d.play()},!1),u.addEventListener("click",function(){return d.addShape()},!1),c.addEventListener("click",function(){return d.removeShape()},!1),h.addEventListener("click",function(){r.default.destroy(d),d=r.default.create(f)},!1),l.addEventListener("change",function(t){f.count=t.target.value,d.setOption("count",f.count)},!1),l.value=f.count}]);
//# sourceMappingURL=main.js.map